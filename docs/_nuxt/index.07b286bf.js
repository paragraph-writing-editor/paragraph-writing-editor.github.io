import{a as x,r as b,t as U,w as E,b as F,o as i,e as a,f as h,h as Z,u as C,i as O,j as p,k as w,l as K,m as f,p as y,q as V,s as d,v,F as D,x as N,y as W,z as S,A as j,c as P,B as q}from"./entry.2cc94f2d.js";import{_ as G}from"./IconButton.35518292.js";function J(n){return n.innerText==`
`||n.innerText.match(/[^\n]\n$/)}function Q(n){n.textContent=n.innerText.replace(/\n$/,"")}function L(n){const t=window.getSelection(),e=t.getRangeAt(0);e.deleteContents();const s=document.createTextNode(n);e.insertNode(s),t.collapseToEnd()}function X(){const e=window.getSelection().getRangeAt(0).extractContents();navigator.clipboard.writeText(e.textContent)}const Y=["textContent","onKeydown"],ee=x({__name:"WriteDownArea",props:{modelValue:null},emits:["update:modelValue"],setup(n,{emit:t}){const e=n,s=b(e.modelValue),c=b(e.modelValue),u=b(Math.random()),l=b(null),{modelValue:_}=U(e);E(_,(o,r)=>{const $=()=>o!=r,B=()=>s.value!=o;$()&&B()&&(s.value=o,c.value=o,u.value=Math.random(),F(()=>{if(l.value.focus(),o.length>0){const T=document.createRange(),z=window.getSelection(),R=o.match(/\n\n$/)?-1:0;T.setStart(l.value.firstChild,o.length+R),T.collapse(),z.removeAllRanges(),z.addRange(T)}}))});const g=O(({target:o})=>{o instanceof HTMLDivElement&&H(o)}),k=o=>{o.preventDefault();const{target:r}=o;if(!(o instanceof ClipboardEvent)||!(r instanceof HTMLDivElement))return;const $=o.clipboardData.getData("text/plain");L($.replace(/\r\n/g,`
`)),m(r,()=>Q(r))},I=o=>{o.preventDefault();const{target:r}=o;o instanceof ClipboardEvent&&r instanceof HTMLDivElement&&(X(),m(r,()=>L(`
`)))},M=o=>{o.preventDefault();const{target:r}=o;r instanceof HTMLDivElement&&(L(`
`),m(r,()=>L(`
`)))};function H(o,r=!0){r&&(s.value=o.innerText),t("update:modelValue",o.innerText==`
`?"":o.innerText)}function m(o,r){J(o)?(r(),H(o,!1)):H(o)}return(o,r)=>(i(),a("div",{class:"textarea",ref_key:"areaRef",ref:l,contentEditable:"true",key:u.value,textContent:h(c.value),onKeydown:Z(M,["enter"]),onInput:r[0]||(r[0]=(...$)=>C(g)&&C(g)(...$)),onCut:I,onPaste:k},null,40,Y))}}),te=p(ee,[["__scopeId","data-v-13f841c5"]]),ne={},oe={class:"icon-partition"};function ie(n,t){return i(),a("button",oe,[w(n.$slots,"default",{},()=>[K("|")],!0)])}const ae=p(ne,[["render",ie],["__scopeId","data-v-4037046d"]]),se={name:"ClipboardFileOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},le=["aria-hidden","aria-label"],ce=["fill","width","height"],re={d:"M15 23C13.9 23 13 22.11 13 21V12C13 10.9 13.9 10 15 10H19L23 14V21C23 22.11 22.11 23 21 23H15M15 21H21V14.83L18.17 12H15V21M19 3C20.1 3 21 3.9 21 5V9.17L19.83 8H19V5H17V7H7V5H5V19H11V21H5C3.9 21 3 20.1 3 19V5C3 3.9 3.9 3 5 3H9.18C9.6 1.84 10.7 1 12 1C13.3 1 14.4 1.84 14.82 3H19M12 3C11.45 3 11 3.45 11 4C11 4.55 11.45 5 12 5C12.55 5 13 4.55 13 4C13 3.45 12.55 3 12 3Z"},de={key:0};function ue(n,t,e,s,c,u){return i(),a("span",V(n.$attrs,{"aria-hidden":!e.title,"aria-label":e.title,class:"material-design-icon clipboard-file-outline-icon",role:"img",onClick:t[0]||(t[0]=l=>n.$emit("click",l))}),[(i(),a("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[f("path",re,[e.title?(i(),a("title",de,h(e.title),1)):y("",!0)])],8,ce))],16,le)}const _e=p(se,[["render",ue]]),fe={name:"ContentCopyIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},me=["aria-hidden","aria-label"],pe=["fill","width","height"],he={d:"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"},ge={key:0};function ve(n,t,e,s,c,u){return i(),a("span",V(n.$attrs,{"aria-hidden":!e.title,"aria-label":e.title,class:"material-design-icon content-copy-icon",role:"img",onClick:t[0]||(t[0]=l=>n.$emit("click",l))}),[(i(),a("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[f("path",he,[e.title?(i(),a("title",ge,h(e.title),1)):y("",!0)])],8,pe))],16,me)}const Ce=p(fe,[["render",ve]]),$e={name:"FileOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},be=["aria-hidden","aria-label"],we=["fill","width","height"],ke={d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"},xe={key:0};function ye(n,t,e,s,c,u){return i(),a("span",V(n.$attrs,{"aria-hidden":!e.title,"aria-label":e.title,class:"material-design-icon file-outline-icon",role:"img",onClick:t[0]||(t[0]=l=>n.$emit("click",l))}),[(i(),a("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[f("path",ke,[e.title?(i(),a("title",xe,h(e.title),1)):y("",!0)])],8,we))],16,be)}const Ve=p($e,[["render",ye]]),He={name:"RedoIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Te=["aria-hidden","aria-label"],Se=["fill","width","height"],Me={d:"M18.4,10.6C16.55,9 14.15,8 11.5,8C6.85,8 2.92,11.03 1.54,15.22L3.9,16C4.95,12.81 7.95,10.5 11.5,10.5C13.45,10.5 15.23,11.22 16.62,12.38L13,16H22V7L18.4,10.6Z"},ze={key:0};function Le(n,t,e,s,c,u){return i(),a("span",V(n.$attrs,{"aria-hidden":!e.title,"aria-label":e.title,class:"material-design-icon redo-icon",role:"img",onClick:t[0]||(t[0]=l=>n.$emit("click",l))}),[(i(),a("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[f("path",Me,[e.title?(i(),a("title",ze,h(e.title),1)):y("",!0)])],8,Se))],16,Te)}const Ie=p(He,[["render",Le]]),Be={name:"UndoIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Re=["aria-hidden","aria-label"],Ae=["fill","width","height"],De={d:"M12.5,8C9.85,8 7.45,9 5.6,10.6L2,7V16H11L7.38,12.38C8.77,11.22 10.54,10.5 12.5,10.5C16.04,10.5 19.05,12.81 20.1,16L22.47,15.22C21.08,11.03 17.15,8 12.5,8Z"},Ne={key:0};function Ee(n,t,e,s,c,u){return i(),a("span",V(n.$attrs,{"aria-hidden":!e.title,"aria-label":e.title,class:"material-design-icon undo-icon",role:"img",onClick:t[0]||(t[0]=l=>n.$emit("click",l))}),[(i(),a("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[f("path",De,[e.title?(i(),a("title",Ne,h(e.title),1)):y("",!0)])],8,Ae))],16,Re)}const Ue=p(Be,[["render",Ee]]),Fe={class:"toolbar-window"},Ze={class:"toolbar"},Oe={class:"workspace"},Ke=x({__name:"ToolBar",props:{canUndo:{type:Boolean},canRedo:{type:Boolean}},setup(n){return(t,e)=>{const s=ae,c=G;return i(),a("div",Fe,[f("div",Ze,[d(s),d(c,{"aria-label":"new text","data-balloon-pos":"right",onClick:e[0]||(e[0]=u=>t.$emit("new-click"))},{default:v(()=>[d(Ve)]),_:1}),d(c,{"aria-label":"text in clipboard","data-balloon-pos":"right",onClick:e[1]||(e[1]=u=>t.$emit("clipboard-click"))},{default:v(()=>[d(_e)]),_:1}),d(s),d(c,{"aria-label":"copy to clipboard","data-balloon-pos":"right",onClick:e[2]||(e[2]=u=>t.$emit("copy-click"))},{default:v(()=>[d(Ce)]),_:1}),d(s),d(c,{"aria-label":"undo","data-balloon-pos":"right",disabled:!n.canUndo,onClick:e[3]||(e[3]=u=>t.$emit("undo-click"))},{default:v(()=>[d(Ue)]),_:1},8,["disabled"]),d(c,{"aria-label":"redo","data-balloon-pos":"right",disabled:!n.canRedo,onClick:e[4]||(e[4]=u=>t.$emit("redo-click"))},{default:v(()=>[d(Ie)]),_:1},8,["disabled"])]),f("div",Oe,[w(t.$slots,"default",{},void 0,!0)])])}}}),We=p(Ke,[["__scopeId","data-v-2c2fecfd"]]),je={class:"section"},Pe={class:"paragraph"},qe={class:"sentence"},Ge=x({__name:"ReviewArea",props:{structure:null,style:null},setup(n){return(t,e)=>(i(),a("div",{class:W(["review-window",n.style].join(" "))},[f("div",je,[(i(!0),a(D,null,N(n.structure,s=>(i(),a("p",Pe,[(i(!0),a(D,null,N(s,c=>(i(),a("span",qe,h(c),1))),256))]))),256))])],2))}}),Je=p(Ge,[["__scopeId","data-v-3746a539"]]),Qe={class:"status-indicator-window"},Xe={class:"status-indicator"},Ye={class:"view-space"},et=x({__name:"StatusIndicator",props:{structure:null},setup(n){const t=n,e=S(()=>{const s=t.structure.length,c=t.structure.reduce((l,_)=>l+_.length,0),u=t.structure.reduce((l,_)=>l+_.reduce((g,k)=>g+k.length,0),0);return{paragraphs:Math.min(s,c),sentences:c,characters:u}});return(s,c)=>(i(),a("div",Qe,[f("div",Xe,[f("span",null,h(C(e).characters.toLocaleString())+" characters",1),f("span",null,h(C(e).sentences.toLocaleString())+" sentences",1),f("span",null,h(C(e).paragraphs.toLocaleString())+" paragraphs",1)]),f("div",Ye,[w(s.$slots,"default",{},void 0,!0)])]))}}),tt=p(et,[["__scopeId","data-v-07ad1e50"]]),nt={},ot={class:"rounded-button"};function it(n,t){return i(),a("button",ot,[w(n.$slots,"default",{},void 0,!0)])}const at=p(nt,[["render",it],["__scopeId","data-v-d300a829"]]),st={name:"SwapHorizontalIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},lt=["aria-hidden","aria-label"],ct=["fill","width","height"],rt={d:"M21,9L17,5V8H10V10H17V13M7,11L3,15L7,19V16H14V14H7V11Z"},dt={key:0};function ut(n,t,e,s,c,u){return i(),a("span",V(n.$attrs,{"aria-hidden":!e.title,"aria-label":e.title,class:"material-design-icon swap-horizontal-icon",role:"img",onClick:t[0]||(t[0]=l=>n.$emit("click",l))}),[(i(),a("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[f("path",rt,[e.title?(i(),a("title",dt,h(e.title),1)):y("",!0)])],8,ct))],16,lt)}const _t=p(st,[["render",ut]]),ft={class:"view-menu-window"},mt={class:"view-menu"},pt={class:"label"},ht={class:"view-space"},gt=x({__name:"ViewMenu",props:{menu:null},emits:["update:menu"],setup(n,{emit:t}){const e=n,s=["topic-sentence-highlights","bulleted-topic-sentences"];j(()=>{if(e.menu)return;const l=s[0];t("update:menu",l)});const c=S(()=>e.menu.replace(/-/g," ")),u=()=>{const l=s.indexOf(e.menu)+1;t("update:menu",s[l%s.length])};return(l,_)=>{const g=at;return i(),a("div",ft,[f("div",mt,[d(g,{onClick:u},{default:v(()=>[d(_t),f("span",pt,h(C(c)),1)]),_:1})]),f("div",ht,[w(l.$slots,"default",{},void 0,!0)])])}}}),vt=p(gt,[["__scopeId","data-v-4ad3999c"]]),Ct={},$t={class:"pages"},bt={class:"left-page"},wt={class:"right-page"};function kt(n,t){return i(),a("div",$t,[f("div",bt,[w(n.$slots,"left-page",{},void 0,!0)]),f("div",wt,[w(n.$slots,"right-page",{},void 0,!0)])])}const xt=p(Ct,[["render",kt],["__scopeId","data-v-dc3b3f64"]]),Ht=x({__name:"index",setup(n){const t=b(""),e=b(""),s=S(()=>t.value.trim().replace(/\n\n+/g,`

`).split(`

`).map(m=>m.replace(/(ã€‚|\U+ff0e)/g,`$1
`).replace(/(\.[\"\']? )/g,`$1
`).trim().split(`
`).filter(o=>o.length))),c=()=>{t.value=""},u=async()=>{const m=await navigator.clipboard.readText();m.trim().length>0&&(t.value=m.replace(/\r\n/g,`
`).trim())},l=()=>{t.value.trim().length>0&&navigator.clipboard.writeText(t.value).then(()=>window.alert("text was copied to clipboard"))},_=b([t.value]),g=b([]);E(t,(m,o)=>{const r=()=>m.trim()!=o.trim(),$=()=>_.value[_.value.length-1]==m;r()&&!$()&&(_.value.length>12&&_.value.shift(),_.value.push(m),g.value.splice(0))});const k=S(()=>_.value.length>1),I=()=>{if(!k.value)return;const m=_.value.pop();g.value.push(m),t.value=_.value[_.value.length-1]},M=S(()=>g.value.length>0),H=()=>{if(!M.value)return;const m=g.value.pop();_.value.push(m),t.value=_.value[_.value.length-1]};return(m,o)=>{const r=te,$=We,B=Je,T=tt,z=vt,R=xt;return i(),P(R,null,{"left-page":v(()=>[d($,{"can-undo":C(k),"can-redo":C(M),onNewClick:c,onClipboardClick:u,onCopyClick:l,onUndoClick:I,onRedoClick:H},{default:v(()=>[d(r,{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=A=>t.value=A)},null,8,["modelValue"])]),_:1},8,["can-undo","can-redo"])]),"right-page":v(()=>[d(z,{menu:e.value,"onUpdate:menu":o[1]||(o[1]=A=>e.value=A)},{default:v(()=>[d(T,{structure:C(s)},{default:v(()=>[d(B,{structure:C(s),style:q(e.value)},null,8,["structure","style"])]),_:1},8,["structure"])]),_:1},8,["menu"])]),_:1})}}});export{Ht as default};
